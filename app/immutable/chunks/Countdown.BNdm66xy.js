import{a as S,t as P}from"./disclose-version.9B_-sdtN.js";import"./legacy.CdsFlzYv.js";import{p as le,at as fe,d as ce,a8 as ve,g as Z,c as L,b as W,t as de}from"./runtime.DcMbfjP2.js";import{s as pe}from"./render.CvAcfbYM.js";import{i as De}from"./if.6rQiVtqa.js";import{i as ge}from"./lifecycle.DVxcDxWq.js";import{p as _}from"./props.BMs37cLB.js";import{o as me,a as Ne}from"./index-client.D4r_bI-x.js";function X(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O(e){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(e)}function Te(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ee(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function we(e){ee(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||O(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function k(e,t){ee(2,arguments);var r=we(e),n=Te(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}var F={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}e.exports=t.default})(F,F.exports);var Ie=F.exports;const Me=X(Ie);var $={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){var a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),n.getTime()-a.getTime()}e.exports=t.default})($,$.exports);var Ye=$.exports;const R=X(Ye);function he(e,t){var r=_e(t);return r.formatToParts?ye(r,e):Se(r,e)}var be={year:0,month:1,day:2,hour:3,minute:4,second:5};function ye(e,t){try{for(var r=e.formatToParts(t),n=[],a=0;a<r.length;a++){var i=be[r[a].type];i>=0&&(n[i]=parseInt(r[a].value,10))}return n}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function Se(e,t){var r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var C={};function _e(e){if(!C[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";C[e]=r?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return C[e]}function te(e,t,r,n,a,i,o){var u=new Date(0);return u.setUTCFullYear(e,t,r),u.setUTCHours(n,a,i,o),u}var G=36e5,Ce=6e4,U={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function re(e,t,r){var n,a;if(!e||(n=U.timezoneZ.exec(e),n))return 0;var i;if(n=U.timezoneHH.exec(e),n)return i=parseInt(n[1],10),q(i)?-(i*G):NaN;if(n=U.timezoneHHMM.exec(e),n){i=parseInt(n[2],10);var o=parseInt(n[3],10);return q(i,o)?(a=Math.abs(i)*G+o*Ce,n[1]==="+"?-a:a):NaN}if(He(e)){t=new Date(t||Date.now());var u=r?t:Ue(t),f=E(u,e),c=r?f:xe(t,f,e);return-c}return NaN}function Ue(e){return te(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function E(e,t){var r=he(e,t),n=te(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),a=e.getTime(),i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function xe(e,t,r){var n=e.getTime(),a=n-t,i=E(new Date(a),r);if(t===i)return t;a-=i-t;var o=E(new Date(a),r);return i===o?i:Math.max(i,o)}function q(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var J={};function He(e){if(J[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),J[e]=!0,!0}catch{return!1}}var Oe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,x=36e5,V=6e4,Fe=2,s={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Oe};function $e(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r={},n=r.additionalDigits==null?Fe:Me(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Ee(e),i=Pe(a.date,n),o=i.year,u=i.restDateString,f=je(u,o);if(isNaN(f))return new Date(NaN);if(f){var c=f.getTime(),v=0,d;if(a.time&&(v=Ae(a.time),isNaN(v)))return new Date(NaN);if(a.timeZone||r.timeZone){if(d=re(a.timeZone||r.timeZone,new Date(c+v)),isNaN(d))return new Date(NaN)}else d=R(new Date(c+v)),d=R(new Date(c+v+d));return new Date(c+v+d)}else return new Date(NaN)}function Ee(e){var t={},r=s.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=s.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){var a=s.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function Pe(e,t){var r=s.YYY[t],n=s.YYYYY[t],a;if(a=s.YYYY.exec(e)||n.exec(e),a){var i=a[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(a=s.YY.exec(e)||r.exec(e),a){var o=a[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function je(e,t){if(t===null)return null;var r,n,a,i;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(r=s.MM.exec(e),r)return n=new Date(0),a=parseInt(r[1],10)-1,K(t,a)?(n.setUTCFullYear(t,a),n):new Date(NaN);if(r=s.DDD.exec(e),r){n=new Date(0);var o=parseInt(r[1],10);return Le(t,o)?(n.setUTCFullYear(t,0,o),n):new Date(NaN)}if(r=s.MMDD.exec(e),r){n=new Date(0),a=parseInt(r[1],10)-1;var u=parseInt(r[2],10);return K(t,a,u)?(n.setUTCFullYear(t,a,u),n):new Date(NaN)}if(r=s.Www.exec(e),r)return i=parseInt(r[1],10)-1,Q(t,i)?B(t,i):new Date(NaN);if(r=s.WwwD.exec(e),r){i=parseInt(r[1],10)-1;var f=parseInt(r[2],10)-1;return Q(t,i,f)?B(t,i,f):new Date(NaN)}return null}function Ae(e){var t,r,n;if(t=s.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),H(r)?r%24*x:NaN;if(t=s.HHMM.exec(e),t)return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),H(r,n)?r%24*x+n*V:NaN;if(t=s.HHMMSS.exec(e),t){r=parseInt(t[1],10),n=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return H(r,n,a)?r%24*x+n*V+a*1e3:NaN}return null}function B(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=t*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var ze=[31,28,31,30,31,30,31,31,30,31,30,31],Ze=[31,29,31,30,31,30,31,31,30,31,30,31];function ne(e){return e%400===0||e%4===0&&e%100!==0}function K(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var n=ne(e);if(n&&r>Ze[t]||!n&&r>ze[t])return!1}return!0}function Le(e,t){if(t<1)return!1;var r=ne(e);return!(r&&t>366||!r&&t>365)}function Q(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function H(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}function We(e,t,r){var n=$e(e,r),a=re(t,n,!0),i=new Date(n.getTime()-a),o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}var ke=P("<div>Session is live now.</div>"),Re=P("<div> </div>"),Ge=P('<div class="opacity-50"><!></div>');function nt(e,t){le(t,!1);let r=_(t,"dayOfWeek",8),n=_(t,"times",24,()=>["09:00:00","21:00:00"]),a=_(t,"durationHours",8,1);function i(){const p=new Date,D="America/New_York";function I(l,Y,N,g,w=D){const h=l.getDay(),[T,b]=Y.split(":").map(Number);let m=new Date(l.getFullYear(),l.getMonth(),l.getDate(),T,b,0,0);const ue=new Date(m.getTime()+g*60*60*1e3),y=N===void 0?0:(N-h+7)%7,z=y===0&&m.getTime()<=l.getTime();return z&&l.getTime()<ue.getTime()?{sessionStart:m,sessionInProgress:!0}:(y&&(m=k(m,y)),z&&(m=k(m,N===void 0?1:7)),{timestamp:m,sessionInProgress:!1})}const j=We(p,D);let A=n().map(l=>I(j,l,r(),a()));if(A.some(({sessionInProgress:l})=>l))return{isSessionRunning:!0};const M=Math.min(...A.map(({timestamp:l})=>l.getTime()-j.getTime())),ae=Math.floor(M/(1e3*60*60*24)),ie=Math.floor(M%(1e3*60*60*24)/(1e3*60*60)),oe=Math.floor(M%(1e3*60*60)/(1e3*60));function se(l,Y,N){const g=[],w=(T,b)=>{T>0&&g.push(`${T} ${b}${T!==1?"s":""}`)};if(w(l,"day"),w(Y,"hour"),w(N,"minute"),g.length===0)return"Now";if(g.length===1)return g[0];const h=g.pop();return`${g.join(", ")} and ${h}`}return{isSessionRunning:!1,countdownString:se(ae,ie,oe)}}let o=null,u=fe(i());me(()=>{o=setInterval(()=>{ve(u,i())},1e3)}),Ne(()=>{o!==null&&clearInterval(o)}),ge();var f=Ge(),c=L(f);{var v=p=>{var D=ke();S(p,D)},d=p=>{var D=Re(),I=L(D);W(D),de(()=>pe(I,`Next session starts in ${Z(u).countdownString??""}.`)),S(p,D)};De(c,p=>{Z(u).isSessionRunning?p(v):p(d,!1)})}W(f),S(e,f),ce()}export{nt as C};
